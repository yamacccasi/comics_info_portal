{"ast":null,"code":"import'./randomChar.scss';import mjolnir from'../../resources/img/mjolnir.png';import{Component}from\"react\";import MarvelService from\"../../services/MarvelService\";import Spinner from\"../spinner/Spinner\";import ErrorMessage from\"../errorMessage/ErrorMessage\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class RandomChar extends Component{constructor(){super(...arguments);this.state={char:{},loading:true,error:false};this.marvelService=new MarvelService();this.onCharLoaded=char=>{this.setState({char:char,loading:false});};this.onError=error=>{this.setState({loading:false,error:true});};this.updateChar=()=>{const id=Math.floor(Math.random()*(1011400-1011000)+1011000);// створюємо рандомний id для запиту;\nthis.marvelService.getCharacter(id).then(this.onCharLoaded).catch(this.onError);// робимо запит по згенерованому id, після чого відповідь прокидуєм через функцію CharLoaded\n};}componentDidMount(){this.updateChar();}componentWillUnmount(){clearInterval(this.updateChar);}render(){const{char,loading,error}=this.state;const errorMessage=error?/*#__PURE__*/_jsx(ErrorMessage,{}):null;const spinner=loading?/*#__PURE__*/_jsx(Spinner,{}):null;const content=!(loading||error)?/*#__PURE__*/_jsx(View,{char:char}):null;return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar\",children:[errorMessage,spinner,content,/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__static\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"randomchar__title\",children:[\"Random character for today!\",/*#__PURE__*/_jsx(\"br\",{}),\"Do you want to get to know him better?\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__title\",children:\"Or choose another one\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",onClick:this.updateChar,children:\"try it\"})}),/*#__PURE__*/_jsx(\"img\",{src:mjolnir,alt:\"mjolnir\",className:\"randomchar__decoration\"})]})]});}}const View=_ref=>{let{char}=_ref;const{name,description,thumbnail,homepage,wiki}=char;return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__block\",children:[/*#__PURE__*/_jsx(\"img\",{src:thumbnail,alt:\"Random character\",className:\"randomchar__img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__name\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__descr\",children:description}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__btns\",children:[/*#__PURE__*/_jsx(\"a\",{href:homepage,className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"homepage\"})}),/*#__PURE__*/_jsx(\"a\",{href:wiki,className:\"button button__secondary\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"Wiki\"})})]})]})]});};export default RandomChar;","map":{"version":3,"names":["mjolnir","Component","MarvelService","Spinner","ErrorMessage","jsx","_jsx","jsxs","_jsxs","RandomChar","constructor","arguments","state","char","loading","error","marvelService","onCharLoaded","setState","onError","updateChar","id","Math","floor","random","getCharacter","then","catch","componentDidMount","componentWillUnmount","clearInterval","render","errorMessage","spinner","content","View","className","children","onClick","src","alt","_ref","name","description","thumbnail","homepage","wiki","href"],"sources":["/Users/maxympetlyak/Desktop/REACT/marvel_starter/src/components/randomChar/RandomChar.js"],"sourcesContent":["import './randomChar.scss';\nimport mjolnir from '../../resources/img/mjolnir.png';\nimport {Component} from \"react\";\nimport MarvelService from \"../../services/MarvelService\";\nimport Spinner from \"../spinner/Spinner\";\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\n\nclass RandomChar extends Component {\n    state = {\n        char: {},\n        loading: true,\n        error: false,\n    }\n\n    componentDidMount() {\n        this.updateChar()\n\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.updateChar);\n    }\n\n\n    marvelService = new MarvelService();\n\n\n\n    onCharLoaded = (char) => {\n        this.setState({char: char, loading: false});\n    }\n\n    onError = (error) => {\n        this.setState({loading: false, error: true});\n\n    }\n\n        updateChar = () => {\n            const id = Math.floor(Math.random() * (1011400 - 1011000) + 1011000) // створюємо рандомний id для запиту;\n            this.marvelService.getCharacter(id).then(this.onCharLoaded).catch(this.onError)  // робимо запит по згенерованому id, після чого відповідь прокидуєм через функцію CharLoaded\n    }\n\n\n\n   render() {\n        const {char , loading,error} = this.state;\n        const errorMessage = error ? <ErrorMessage/> : null\n        const spinner = loading ? <Spinner/> : null;\n        const content = !(loading || error) ? <View char={char}/> : null\n\n       return (\n        <div className=\"randomchar\">\n            {errorMessage}\n            {spinner}\n            {content}\n            <div className=\"randomchar__static\">\n                <p className=\"randomchar__title\">\n                    Random character for today!<br/>\n                    Do you want to get to know him better?\n                </p>\n                <p className=\"randomchar__title\">\n                    Or choose another one\n                </p>\n                <button className=\"button button__main\">\n                    <div className=\"inner\" onClick={this.updateChar}>try it</div>\n                </button>\n                <img src={mjolnir} alt=\"mjolnir\" className=\"randomchar__decoration\"/>\n            </div>\n        </div>\n    )\n   }\n\n}\n\nconst View = ({char}) => {\n    const {name,description,thumbnail,homepage,wiki} = char;\n\n        return (  <div className=\"randomchar__block\">\n            <img src={thumbnail} alt=\"Random character\" className=\"randomchar__img\"/>\n            <div className=\"randomchar__info\">\n                <p className=\"randomchar__name\">{name}</p>\n                <p className=\"randomchar__descr\">\n                    {description}\n                </p>\n                <div className=\"randomchar__btns\">\n                    <a href={homepage} className=\"button button__main\">\n                        <div className=\"inner\">homepage</div>\n                    </a>\n                    <a href={wiki} className=\"button button__secondary\">\n                        <div className=\"inner\">Wiki</div>\n                    </a>\n                </div>\n            </div>\n        </div>)\n\n}\n\nexport default RandomChar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}